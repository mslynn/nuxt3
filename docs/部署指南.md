# ğŸš€ åœ¨çº¿æ•™å®¤ç³»ç»Ÿéƒ¨ç½²æŒ‡å—

æœ¬é¡¹ç›®éœ€è¦åˆ†å¼€éƒ¨ç½²ä¸¤ä¸ªæœåŠ¡ï¼š
1. **WebSocket ä¿¡ä»¤æœåŠ¡å™¨** â†’ Railway
2. **Nuxt å‰ç«¯** â†’ Vercel

---

## ğŸ“¦ ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½² WebSocket æœåŠ¡å™¨åˆ° Railway

### 1.1 æ³¨å†Œ Railway è´¦å·

è®¿é—® [railway.app](https://railway.app) æ³¨å†Œè´¦å·ï¼ˆå¯ç”¨ GitHub ç™»å½•ï¼‰

### 1.2 åˆ›å»ºæ–°é¡¹ç›®

1. ç‚¹å‡» **New Project**
2. é€‰æ‹© **Deploy from GitHub repo**
3. è¿æ¥ä½ çš„ GitHub ä»“åº“

### 1.3 é…ç½®éƒ¨ç½²è®¾ç½®

åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­ï¼š

**Root Directoryï¼ˆæ ¹ç›®å½•ï¼‰**:
```
server
```

**Start Commandï¼ˆå¯åŠ¨å‘½ä»¤ï¼‰**:
```
npm start
```

### 1.4 è·å–éƒ¨ç½²åœ°å€

éƒ¨ç½²æˆåŠŸåï¼ŒRailway ä¼šç»™ä½ ä¸€ä¸ªåŸŸåï¼Œç±»ä¼¼ï¼š
```
classroom-ws-server-production.up.railway.app
```

è®°ä¸‹è¿™ä¸ªåœ°å€ï¼Œåé¢è¦ç”¨ï¼

---

## ğŸŒ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½² Nuxt å‰ç«¯åˆ° Vercel

### 2.1 æ³¨å†Œ Vercel è´¦å·

è®¿é—® [vercel.com](https://vercel.com) æ³¨å†Œè´¦å·ï¼ˆå¯ç”¨ GitHub ç™»å½•ï¼‰

### 2.2 å¯¼å…¥é¡¹ç›®

1. ç‚¹å‡» **Add New** â†’ **Project**
2. é€‰æ‹©ä½ çš„ GitHub ä»“åº“
3. ç‚¹å‡» **Import**

### 2.3 é…ç½®ç¯å¢ƒå˜é‡ âš ï¸ é‡è¦ï¼

åœ¨ Vercel é¡¹ç›®è®¾ç½®çš„ **Environment Variables** ä¸­æ·»åŠ ï¼š

| Key | Value |
|-----|-------|
| `NUXT_PUBLIC_WS_URL` | `wss://ä½ çš„railwayåŸŸå` |

ä¾‹å¦‚ï¼š
```
NUXT_PUBLIC_WS_URL = wss://classroom-ws-server-production.up.railway.app
```

**æ³¨æ„**ï¼šå¿…é¡»æ˜¯ `wss://`ï¼ˆå¸¦ sï¼‰ï¼Œä¸æ˜¯ `ws://`ï¼

### 2.4 éƒ¨ç½²

ç‚¹å‡» **Deploy** å¼€å§‹éƒ¨ç½²

---

## âœ… éªŒè¯éƒ¨ç½²

1. è®¿é—® Vercel ç»™ä½ çš„åŸŸåï¼ˆå¦‚ `your-app.vercel.app/classroom`ï¼‰
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼Œåº”è¯¥æ˜¾ç¤º `âœ… WebSocket å·²è¿æ¥`
3. ç”¨ä¸¤ä¸ªæµè§ˆå™¨æµ‹è¯•è€å¸ˆç«¯å’Œå­¦ç”Ÿç«¯

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: WebSocket è¿æ¥å¤±è´¥ï¼Ÿ

1. æ£€æŸ¥ Railway æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. ç¡®è®¤ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®ï¼ˆ`wss://` ä¸æ˜¯ `ws://`ï¼‰
3. æ£€æŸ¥ Railway çš„æ—¥å¿—

### Q: Railway å…è´¹é¢åº¦ç”¨å®Œäº†ï¼Ÿ

Railway æ¯æœˆæœ‰ $5 å…è´¹é¢åº¦ï¼Œå¯¹äºå°é¡¹ç›®è¶³å¤Ÿäº†ã€‚ä¹Ÿå¯ä»¥è€ƒè™‘ï¼š
- Render.comï¼ˆå…è´¹ï¼‰
- Fly.ioï¼ˆå…è´¹ï¼‰
- è‡ªå·±çš„æœåŠ¡å™¨

### Q: å±å¹•å…±äº«ä¸å·¥ä½œï¼Ÿ

WebRTC åœ¨è·¨ç½‘ç»œæ—¶å¯èƒ½éœ€è¦ TURN æœåŠ¡å™¨ã€‚å¯ä»¥ï¼š
1. ä½¿ç”¨å…è´¹çš„ TURN æœåŠ¡ï¼ˆå¦‚ Metered TURNï¼‰
2. æˆ–è€…éƒ¨ç½²è‡ªå·±çš„ Coturn æœåŠ¡å™¨

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ server/                  # WebSocket æœåŠ¡å™¨ï¼ˆéƒ¨ç½²åˆ° Railwayï¼‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ ws-server.js
â”œâ”€â”€ pages/                   # Nuxt å‰ç«¯ï¼ˆéƒ¨ç½²åˆ° Vercelï¼‰
â”‚   â””â”€â”€ classroom/
â”œâ”€â”€ nuxt.config.ts          # Nuxt é…ç½®ï¼ˆåŒ…å«ç¯å¢ƒå˜é‡ï¼‰
â””â”€â”€ vercel.json             # Vercel é…ç½®ï¼ˆå¯é€‰ï¼‰
```

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„åœ¨çº¿æ•™å®¤ç³»ç»Ÿå·²ç»ä¸Šçº¿äº†ï¼

- å‰ç«¯åœ°å€ï¼š`https://your-app.vercel.app/classroom`
- WebSocketï¼š`wss://your-ws.railway.app`

åˆ†äº«å‰ç«¯åœ°å€ç»™è€å¸ˆå’Œå­¦ç”Ÿå³å¯ä½¿ç”¨ï¼

